###
# Copyright (2016-2017) Hewlett Packard Enterprise Development LP
#
# Licensed under the Apache License, Version 2.0 (the "License");
# You may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
###
---
- hosts: localhost
  vars:
    config: "oneview_config.json"
  tasks:

     - name: Create subnet 10.40.210.0
       oneview_id_pools_ipv4_subnet:
         config: "{{ config }}"
         state: present
         data:
             name: 10.40.210.0_Subnet
             type: Subnet
             networkId: 10.40.210.0
             subnetmask: 255.255.254.0
             gateway: 10.40.211.254
             domain: ad.nublar.de
             dnsServers:
                 - 10.40.192.171
       delegate_to: localhost
 
     - set_fact: subnet_uri="{{ id_pools_ipv4_subnet["uri"] }}" 
     - name: Create IPV4 range b-oobm-mgmt
       oneview_id_pools_ipv4_range:
         config: "{{ config }}"
         state: present
         data:
             name: a-oobm-mgmt
             subnetUri: "{{ subnet_uri }}" 
             type: Range
             rangeCategory: Custom
             startAddress: 10.40.211.131
             endAddress: 10.40.211.160
       delegate_to: localhost
 
     - name: Create subnet 10.40.194.0
       oneview_id_pools_ipv4_subnet:
         config: "{{ config }}"
         state: present
         data:
             name: 10.40.194.0_Subnet
             type: Subnet
             networkId: 10.40.194.0
             subnetmask: 255.255.254.0
             gateway: 10.40.195.254
             domain: ad.nublar.de
             dnsServers:
                 - 10.40.72.10
                 - 10.40.72.11
       delegate_to: localhost
 
     - set_fact: subnet_uri="{{ id_pools_ipv4_subnet["uri"] }}" 
     - name: Create subnet 10.40.196.0
       oneview_id_pools_ipv4_subnet:
         config: "{{ config }}"
         state: present
         data:
             name: 10.40.196.0_Subnet
             type: Subnet
             networkId: 10.40.196.0
             subnetmask: 255.255.255.0
             gateway: 
       delegate_to: localhost
 
     - set_fact: subnet_uri="{{ id_pools_ipv4_subnet["uri"] }}" 
     - name: Create IPV4 range vMotion
       oneview_id_pools_ipv4_range:
         config: "{{ config }}"
         state: present
         data:
             name: vMotion
             subnetUri: "{{ subnet_uri }}" 
             type: Range
             rangeCategory: Custom
             startAddress: 10.40.196.1
             endAddress: 10.40.196.30
       delegate_to: localhost
 
     - name: Create subnet 10.40.200.0
       oneview_id_pools_ipv4_subnet:
         config: "{{ config }}"
         state: present
         data:
             name: 10.40.200.0_Subnet
             type: Subnet
             networkId: 10.40.200.0
             subnetmask: 255.255.255.0
             gateway: 
       delegate_to: localhost
 
     - set_fact: subnet_uri="{{ id_pools_ipv4_subnet["uri"] }}" 
     - name: Create IPV4 range vSphere-FT
       oneview_id_pools_ipv4_range:
         config: "{{ config }}"
         state: present
         data:
             name: vSphere-FT
             subnetUri: "{{ subnet_uri }}" 
             type: Range
             rangeCategory: Custom
             startAddress: 10.40.200.31
             endAddress: 10.40.200.60
       delegate_to: localhost
 
     - name: Create subnet 10.40.204.0
       oneview_id_pools_ipv4_subnet:
         config: "{{ config }}"
         state: present
         data:
             name: 10.40.204.0_Subnet
             type: Subnet
             networkId: 10.40.204.0
             subnetmask: 255.255.255.0
             gateway: 
       delegate_to: localhost
 
     - set_fact: subnet_uri="{{ id_pools_ipv4_subnet["uri"] }}" 
     - name: Create IPV4 range iSCSI Initiator A
       oneview_id_pools_ipv4_range:
         config: "{{ config }}"
         state: present
         data:
             name: iSCSI Initiator A
             subnetUri: "{{ subnet_uri }}" 
             type: Range
             rangeCategory: Custom
             startAddress: 10.40.204.1
             endAddress: 10.40.204.30
       delegate_to: localhost
 
     - name: Create subnet 10.40.205.0
       oneview_id_pools_ipv4_subnet:
         config: "{{ config }}"
         state: present
         data:
             name: 10.40.205.0_Subnet
             type: Subnet
             networkId: 10.40.205.0
             subnetmask: 255.255.255.0
             gateway: 
       delegate_to: localhost
 
     - set_fact: subnet_uri="{{ id_pools_ipv4_subnet["uri"] }}" 
     - name: Create IPV4 range iSCSI Initiator B
       oneview_id_pools_ipv4_range:
         config: "{{ config }}"
         state: present
         data:
             name: iSCSI Initiator B
             subnetUri: "{{ subnet_uri }}" 
             type: Range
             rangeCategory: Custom
             startAddress: 10.40.205.1
             endAddress: 10.40.205.30
       delegate_to: localhost
 
     - name: Create subnet 10.40.206.0
       oneview_id_pools_ipv4_subnet:
         config: "{{ config }}"
         state: present
         data:
             name: 10.40.206.0_Subnet
             type: Subnet
             networkId: 10.40.206.0
             subnetmask: 255.255.255.0
             gateway: 
       delegate_to: localhost
 
     - set_fact: subnet_uri="{{ id_pools_ipv4_subnet["uri"] }}" 
     - name: Create IPV4 range imageStreamerDeploy
       oneview_id_pools_ipv4_range:
         config: "{{ config }}"
         state: present
         data:
             name: imageStreamerDeploy
             subnetUri: "{{ subnet_uri }}" 
             type: Range
             rangeCategory: Custom
             startAddress: 10.40.206.11
             endAddress: 10.40.206.50
       delegate_to: localhost
 
